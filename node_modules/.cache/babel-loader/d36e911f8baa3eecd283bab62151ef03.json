{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yooni\\\\Desktop\\\\covid19ver2\\\\covid19\\\\src\\\\components\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport Board from './Board';\nimport getISO2 from 'country-iso-3-to-2';\nimport { Tooltip } from './Header';\nimport TooltipButton from '../asset/tooltipbutton.png'; // import flags from '../asset/flags/png';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction importAll(r) {\n  let images = {};\n  r.keys().forEach((item, index) => {\n    images[item.replace('./', '')] = r(item);\n  });\n  return images;\n}\n\nconst images = importAll(require.context('../asset/flags/png', false, /\\.(png|jpe?g|svg)$/));\nconst Wrapper = styled.div`\n  margin-top: 15px;\n  padding: 0 5%;\n  font-family: Ubuntu;\n`;\n_c = Wrapper;\nconst Header = styled.header`\n  height: 80px;\n  border-radius: 40px 40px 0 0;\n  background-color: #1a4556;\n  padding: 20px 30px;\n  position: relative;\n  z-index: 1;\n`;\n_c2 = Header;\nconst Flag = styled.div`\n  background-image: url('${({\n  countryName\n}) => {\n  var _images$;\n\n  return (_images$ = images[`${countryName}.png`]) === null || _images$ === void 0 ? void 0 : _images$.default;\n}}');\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 20px;\n  width: 20px;\n  padding-left: 30px;\n  white-space: nowrap;\n  font-size: 18px;\n  font-weight: 800;\n\n  color: #fff;\n`;\n_c3 = Flag;\nconst UpdateDate = styled.div`\n  color: #fff;\n  font-size: 12px;\n  font-weight: 700;\n  margin: 15px 0 0 0;\n`;\n_c4 = UpdateDate;\nconst CloseButton = styled.div`\n    width: 15px;\n    height: 15px;\n    position: absolute;\n    top: 50%;\n    right: 5%;\n  transform: translateY( -50%);\n  &:after {\n      content: '';\n      height: 15px;\n      border-left: 2px solid #bbb;\n      position: absolute;\n      transform: rotate(45deg);\n      left: 5px;\n  }\n\n  &:before {\n      content: '';\n      height: 15px;\n      border-left: 2px solid #bbb;\n      position: absolute;\n      transform: rotate(-45deg);\n      left: 5px;\n  }\n}\n`;\n_c5 = CloseButton;\nconst MainTooltip = styled(Tooltip)`\n  top: 90px;\n\n  &:after {\n    border: 39px solid transparent;\n    border-bottom-color: #a6a6a6;\n    border-top: 0;\n    border-right: 0;\n    margin-left: -89.5px;\n    margin-top: -39px;\n  }\n`;\n_c6 = MainTooltip;\n\nconst Main = ({\n  countryCode,\n  setCountryCode\n}) => {\n  _s();\n\n  const [isTooltipShown, setIsTooltipShown] = useState(false);\n  const [covidData, setCovidData] = useState(null);\n  const [restriction, setRestriction] = useState(null);\n  console.log('covid', covidData);\n  useEffect(() => {\n    axios.get(`/covid/${countryCode}`).then(res => setCovidData(res.data));\n    axios.get(`/covid/restriction/${getISO2(countryCode)}`).then(res => setRestriction(res.data || [])).catch(e => {\n      setRestriction([]);\n    });\n  }, [countryCode]);\n  if (!covidData || !restriction) return null;\n  const updateDateSplit = new Date(covidData.data[covidData.data.length - 1].date).toDateString().split(' ');\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: TooltipButton,\n        width: 15,\n        height: 15,\n        style: {\n          position: 'absolute',\n          top: '27px',\n          left: '60%'\n        },\n        onClick: () => setIsTooltipShown(prev => !prev)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), isTooltipShown && /*#__PURE__*/_jsxDEV(MainTooltip, {\n        children: [\"The data for COVID-19 figurative data is from Our World in Data (https://ourworldindata.org/). \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 44\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 51\n        }, this), \" The data for COVID-19 travel restrictions is from Korea Information Society Agency (https://www.data.go.kr/). Hence the primary data was in Korean. Therefore language changes by user is powered by Google Translate thus the website does not hold any accuracy impact on the translation.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 700\n          },\n          onClick: () => setIsTooltipShown(false),\n          children: \"Click to Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Flag, {\n        countryName: covidData.location.toLowerCase(),\n        children: covidData.location\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UpdateDate, {\n        children: [\"Updated :\", ` ${updateDateSplit[2]} ${updateDateSplit[1].toUpperCase()} ${updateDateSplit[3]}`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n        onClick: () => setCountryCode(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Board, {\n      covidData: covidData,\n      restriction: restriction\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Main, \"erdT+lxZvxqVTqKKh6Nsj0qfZck=\");\n\n_c7 = Main;\nexport default Main;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Flag\");\n$RefreshReg$(_c4, \"UpdateDate\");\n$RefreshReg$(_c5, \"CloseButton\");\n$RefreshReg$(_c6, \"MainTooltip\");\n$RefreshReg$(_c7, \"Main\");","map":{"version":3,"sources":["C:/Users/yooni/Desktop/covid19ver2/covid19/src/components/Main.js"],"names":["axios","useEffect","useState","styled","Board","getISO2","Tooltip","TooltipButton","importAll","r","images","keys","forEach","item","index","replace","require","context","Wrapper","div","Header","header","Flag","countryName","default","UpdateDate","CloseButton","MainTooltip","Main","countryCode","setCountryCode","isTooltipShown","setIsTooltipShown","covidData","setCovidData","restriction","setRestriction","console","log","get","then","res","data","catch","e","updateDateSplit","Date","length","date","toDateString","split","position","top","left","prev","fontWeight","location","toLowerCase","toUpperCase"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport Board from './Board';\nimport getISO2 from 'country-iso-3-to-2';\nimport { Tooltip } from './Header';\nimport TooltipButton from '../asset/tooltipbutton.png';\n// import flags from '../asset/flags/png';\nfunction importAll(r) {\n  let images = {};\n  r.keys().forEach((item, index) => {\n    images[item.replace('./', '')] = r(item);\n  });\n  return images;\n}\nconst images = importAll(\n  require.context('../asset/flags/png', false, /\\.(png|jpe?g|svg)$/),\n);\n\nconst Wrapper = styled.div`\n  margin-top: 15px;\n  padding: 0 5%;\n  font-family: Ubuntu;\n`;\n\nconst Header = styled.header`\n  height: 80px;\n  border-radius: 40px 40px 0 0;\n  background-color: #1a4556;\n  padding: 20px 30px;\n  position: relative;\n  z-index: 1;\n`;\n\nconst Flag = styled.div`\n  background-image: url('${({ countryName }) =>\n    images[`${countryName}.png`]?.default}');\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 20px;\n  width: 20px;\n  padding-left: 30px;\n  white-space: nowrap;\n  font-size: 18px;\n  font-weight: 800;\n\n  color: #fff;\n`;\n\nconst UpdateDate = styled.div`\n  color: #fff;\n  font-size: 12px;\n  font-weight: 700;\n  margin: 15px 0 0 0;\n`;\n\nconst CloseButton = styled.div`\n    width: 15px;\n    height: 15px;\n    position: absolute;\n    top: 50%;\n    right: 5%;\n  transform: translateY( -50%);\n  &:after {\n      content: '';\n      height: 15px;\n      border-left: 2px solid #bbb;\n      position: absolute;\n      transform: rotate(45deg);\n      left: 5px;\n  }\n\n  &:before {\n      content: '';\n      height: 15px;\n      border-left: 2px solid #bbb;\n      position: absolute;\n      transform: rotate(-45deg);\n      left: 5px;\n  }\n}\n`;\n\nconst MainTooltip = styled(Tooltip)`\n  top: 90px;\n\n  &:after {\n    border: 39px solid transparent;\n    border-bottom-color: #a6a6a6;\n    border-top: 0;\n    border-right: 0;\n    margin-left: -89.5px;\n    margin-top: -39px;\n  }\n`;\n\nconst Main = ({ countryCode, setCountryCode }) => {\n  const [isTooltipShown, setIsTooltipShown] = useState(false);\n  const [covidData, setCovidData] = useState(null);\n  const [restriction, setRestriction] = useState(null);\n  console.log('covid', covidData);\n  useEffect(() => {\n    axios.get(`/covid/${countryCode}`).then((res) => setCovidData(res.data));\n    axios\n      .get(`/covid/restriction/${getISO2(countryCode)}`)\n      .then((res) => setRestriction(res.data || []))\n      .catch((e) => {\n        setRestriction([]);\n      });\n  }, [countryCode]);\n\n  if (!covidData || !restriction) return null;\n  const updateDateSplit = new Date(\n    covidData.data[covidData.data.length - 1].date,\n  )\n    .toDateString()\n    .split(' ');\n  return (\n    <Wrapper>\n      <Header>\n        <img\n          src={TooltipButton}\n          width={15}\n          height={15}\n          style={{ position: 'absolute', top: '27px', left: '60%' }}\n          onClick={() => setIsTooltipShown((prev) => !prev)}\n        />\n        {isTooltipShown && (\n          <MainTooltip>\n            The data for COVID-19 figurative data is from Our World in Data\n            (https://ourworldindata.org/). <br /> <br /> The data for COVID-19\n            travel restrictions is from Korea Information Society Agency\n            (https://www.data.go.kr/). Hence the primary data was in Korean.\n            Therefore language changes by user is powered by Google Translate\n            thus the website does not hold any accuracy impact on the\n            translation.\n            <br />\n            <br />\n            <span\n              style={{ fontWeight: 700 }}\n              onClick={() => setIsTooltipShown(false)}\n            >\n              Click to Close\n            </span>\n          </MainTooltip>\n        )}\n        <Flag countryName={covidData.location.toLowerCase()}>\n          {covidData.location}\n        </Flag>\n        <UpdateDate>\n          Updated :\n          {` ${updateDateSplit[2]} ${updateDateSplit[1].toUpperCase()} ${\n            updateDateSplit[3]\n          }`}\n        </UpdateDate>\n        <CloseButton onClick={() => setCountryCode(null)} />\n      </Header>\n      <Board covidData={covidData} restriction={restriction} />\n    </Wrapper>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}